!function(r,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((r=r||self).prettyNum={})}(this,function(r){"use strict";function t(r){return Array.isArray(r)?r:String(r).split(/[eE]/)}function n(r){var n=t(r);if(!function(r){var n=t(r);return!Number.isNaN(Number(n[1]))}(n))return n[0];var e="-"===n[0][0]?"-":"",i=n[0].replace(/^-/,"").split("."),o=i[0],u=i[1]||"",a=Number(n[1]);if(0===a)return"".concat(e+o,".").concat(u);if(a<0){var s=o.length+a;if(s>0){var c=o.substr(0,s),f=o.substr(s);return"".concat(e+c,".").concat(f).concat(u)}var g="0.";for(a+=1;a;)g+="0",a+=1;return e+g+o+u}var d=u.length-a;if(d>0){var p=u.substr(a),v=u.substr(0,a);return"".concat(e+o+v,".").concat(p)}for(var l=-d,E="";l;)E+="0",l-=1;return e+o+u+E}var e=function(r,t){var n=((r||0===r?r:"")+"").split(".");return n.length&&(n[0]=n[0].replace(/(\d)(?=(\d{3})+\b)/g,"$1"+(t||","))),n.join(".")};function i(r,t){return"string"==typeof r&&(t||-1===r.indexOf(".")||(r=/[eE]/.test(r)?r.replace(/\.?0*(?=[eE])/,""):r.replace(/\.?0*$/,"")),r=r.replace(/^0+(?!\.)(?!$)/,"")),r}function o(r,t){if(!(t>0))return r;if("string"!=typeof r&&(r=r.toString()),-1!==r.toLowerCase().indexOf("e"))return r;for(var n=r.indexOf("."),e=-1!==n,i=r.length,o=t-(e?i-n-1:0),u=e?"":".",a=0;a<o;a+=1)u+="0";return r.substring(0,i)+u+r.substring(i)}var u={REDUCE:1,REDUCE_SIGNIFICANT:2,FIXED:3,INCREASE:4},a={UP:1,DOWN:2,CEIL:3,FLOOR:4,HALF_UP:5,HALF_DOWN:6,HALF_EVEN:7};function s(r,t,n){var e=n.precisionSetting,i=void 0===e?u.REDUCE:e,o=n.roundingMode,s=void 0===o?a.HALF_UP:o;if(!t&&0!==t)return r;t=Number(t);var c=r.split("."),f=c[0],g=c[1];if(!g)return r;var d=!1;if("-"===f[0]&&(d=!0,f=f.substring(1)),r=f+g,i===u.REDUCE_SIGNIFICANT){var p=g.match(/^0*/);p&&(t+=p[0].length)}var v=f.length+t,l=Math.min(g.length,t),E=r.substr(v);if(r=r.substr(0,v),E&&function(r,t,n,e){if(!r||r===new Array(r.length+1).join("0"))return!1;if(e===a.DOWN||!n&&e===a.FLOOR||n&&e===a.CEIL)return!1;if(e===a.UP||n&&e===a.FLOOR||!n&&e===a.CEIL)return!0;var i="5".concat(new Array(r.length).join("0"));if(r>i)return!0;if(r<i)return!1;switch(e){case a.HALF_DOWN:return!1;case a.HALF_UP:return!0;case a.HALF_EVEN:default:return parseInt(t[t.length-1],10)%2==1}}(E,r,d,s)&&(r=function(r){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n="",e=r.length-1;e>=0;e-=1){var i=parseInt(r[e],10)+t;10===i?(t=1,i=0):t=0,n+=i}t&&(n+=t);return n.split("").reverse().join("")}(r)),l){var N=r.length-l;r="".concat(r.substr(0,N),".").concat(r.substr(N))}return(d?"-":"")+r}function c(r){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.precision,c=t.precisionSetting,f=t.roundingMode,g=t.thousandsSeparator;return r=function(r,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(-1!==(r=r.toString()).toLowerCase().indexOf("e"))return r;if(n.precisionSetting||(n.precisionSetting=u.REDUCE),n.precisionSetting===u.FIXED){var e=s(r,t,{precisionSetting:u.REDUCE,roundingMode:n.roundingMode});return e=o(e=i(e,!0),t)}return n.precisionSetting===u.INCREASE?o(i(r),t):i(s(r,t,n))}(r=n(r),a,{precisionSetting:c,roundingMode:f}),g&&(r=e(r,g)),r}r.PRECISION_SETTING=u,r.ROUNDING_MODE=a,r.default=c,r.prettyNum=c,Object.defineProperty(r,"__esModule",{value:!0})});
